{
  "_from": "summarybuilder",
  "_id": "summarybuilder@1.4.6",
  "_inBundle": false,
  "_integrity": "sha1-KXb4fJxVBkXtQFisyU6LN0Qtwvk=",
  "_location": "/summarybuilder",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "summarybuilder",
    "fetchSpec": "latest",
    "name": "summarybuilder",
    "raw": "summarybuilder",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "http://registry.npm.taobao.org/summarybuilder/download/summarybuilder-1.4.6.tgz",
  "_shasum": "2976f87c9c550645ed4058acc94e8b37442dc2f9",
  "_spec": "summarybuilder",
  "_where": "/Users/mac/Documents",
  "author": {
    "name": "YYago"
  },
  "bin": {
    "summary": "./index.js"
  },
  "bugs": {
    "url": "https://github.com/YYago/summarybuilder/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "chalk": "^2.3.2",
    "del": "^3.0.0",
    "gulp": "^3.9.1",
    "gulp-filelist": "^1.0.0",
    "lodash": "^4.17.10",
    "node-modules-custom": "^1.0.4"
  },
  "deprecated": false,
  "description": "The tool for the 'SUMMARY.md' file. creates a directory summary based on existing files or creates a corresponding file based on an existing directory summary (existing files are not created).用于Summary.md 文件的工具，基于已有文件创建目录摘要，或者基于已有的目录摘要创建对应的文件(已经存在的文件不会被创建)。",
  "devDependencies": {},
  "homepage": "https://github.com/YYago/summarybuilder#readme",
  "keywords": [
    "summary",
    "gitbook",
    "markdown"
  ],
  "license": "MIT",
  "main": "index.js",
  "name": "summarybuilder",
  "optionalDependencies": {},
  "readme": "# summarybuilder\r\n\r\n> [中文 README >>](./README.zh_cn.md).\r\n\r\nMainly used for `gitbook` and gadgets like it with the `SUMMARY.md` project plugin (currently only supports `.md` types), for two purposes:\r\n\r\n1. Based on the existing list of files already listed in `SUMMARY.md`, create them in batches (` existing files will be ignored);\r\n\r\n2. Create a list of `SUMMARY.md` based on the existing `.md` file.Will not directly rewrite the `SUMMARY.md` file, will generate a: `_summary.md` file to the project root directory, need to manually adjust the order and then copy and paste into your project `SUMMARY.md` file.\r\n\r\n3. In fact, it can be used for any directory where `.md` files exist. You can also import the `summarybuilder` module to the project's gulp task.\r\n\r\n\r\n\r\n    NOTE: \r\n\r\n    * Files and folders that have been excluded by default (* only when run as a command, nothing is excluded when introduced as a node module*)：\r\n    ```JSON\r\n    [\r\n        '!SUMMARY.md', \r\n        '!node_modules/**', \r\n        '!_summary.md'\r\n    ]\r\n    ```\r\n\r\n    * Before deleting using git, delete the file generated by the plugin or write it in `.gitignore` to exclude it.**。 \r\n    ```text\r\n    # tmp files\r\n    _summary.md\r\n    .li.json\r\n    ```\r\n\r\n## Changes in new version\r\n\r\n#### v 1.4.6\r\n\r\n* Provide support for [kc-cli](https://www.npmjs.com/package/kc-cli)\r\n\r\n#### v 1.4.5\r\n\r\n* Fixed a situation where the `'*[example(new)](docs/example.md)'` entry in the `SUMMARY.md` file would become `'new]docs/example.md'` when it was created.\r\n    >**Note**: Although this BUG is basically fixed but not completely avoidable, it will trigger when this happens: `'* [hello[the](world)](htw.md)'`, even This kind of writing can't be rendered normally (the rendering result is not: `'hello[the](world)'`.well, It look as a Markdown syntax error), but if it exists, it will be forced to render (not because of \" The error \"terminates, it still works, even if it is not what we want). Therefore, you should not use this type of conflicting stash in the `SUMMARY.md` file or in the headers of other \".md\" files.\r\n\r\n#### v 1.4.4\r\n\r\n* Add `'use strict'`.\r\n\r\n#### V 1.4.3 ：\r\n\r\n* Entries that already exist in `SUMMARY.md` will no longer appear in the `_summary.md` file. Eliminating the need to repeat manual adjustments.\r\n* Fixed an issue where headers had extra prefix spaces.\r\n\r\n----\r\n\r\n## Install\r\n\r\n* Add to your project。\r\n\r\n    `npm install --save summarybuilder`\r\n\r\n* global\r\n\r\n    `npm install -g summarybuilder` \r\n\r\n## Commands\r\n\r\ncommand | description\r\n-------------|-----------------\r\nsummary -c | Create files that are listed in SUMMARY.md, and existing files will skip.\r\nsummary -b | Generate the file'_summary.md' .\r\nsummary -b -t | Use indentation in the creation of _summary.md. Ps: this will make the level clearer (default by folder structure indent).\r\nsummary  -b  -t [ignores] | `[ignore]`：Exclude files that you do not want to add to _summary.md and use indentation.example：<br><pre>summary -b -t '!docs/foo/*.md'<br># Exclude multiple:<br>`summary -b -t '!/exc/**' !test/**/.md' '!one/two/*.md`</pre>**Note:** <br>\"!\" maybe cause ambiguity When using bash. should use `'` or `\"` around it.\r\nsummary -d | Delete files(`./.li.json` 、` ./_summary.md`)\r\n\r\n### Example( *run as command with terminal* ) \r\n\r\nThe _summary.md file is generated and indented (does not exclude any files).\r\n\r\n    summary -b -t\r\n\r\n\r\nGenerate _summary.md and exclude unnecessary files. Explain that in order to take into account the `gulp.src([...])` parameter format,to exclude multiple folders (files) separated by spaces when using command line operations,the \"!\" symbol may appear to cause bash ambiguity. The error interrupted operation needs to be wrapped with the ['] or the [\"] :\r\n\r\n    summary -b '!/exc/**'\r\n\r\nor\r\n\r\n    summary -b -t \"!/exc/**\"\r\n\r\nExclude multiple files/folders (different files, folders separated by spaces):\r\n\r\n    summary -b -t '!/exc/**' '!test/**' '!one/two/xx.md'\r\n\r\n\r\n## Require `summarybuilder`  as node module\r\n\r\n#### Example（as a module）\r\n\r\n> gulpfile.js:\r\n\r\n```js\r\nconst sm = require('summarybuilder');\r\nconst gulp = require('gulp');\r\nconst gulpfl = require('gulp-filelist');\r\n\r\n//The gulp task to create files which listed in SUMMARY.md(or another file has same format like SUMMARY.md)\r\n\r\ngulp.task('create', function () {\r\n    sm.SBer_createMD(\"./SUMMARY.md\", \"By summarybuider\");\r\n});\r\n\r\n// Create a JSON file to list  all of Markdown files that you wanted to add to SUMMARY.md.\r\n\r\ngulp.task('list', function () {\r\n    gulp.src('test/**/*.md')\r\n        .pipe(gulpfl('list.json'))\r\n        .pipe(gulp.dest('test'));\r\n});\r\n\r\n// Add a watch task to run it when some file changed.\r\n\r\ngulp.task('watcher', function () {\r\n\r\n    gulp.watch('test/**/*.md', ['list']);\r\n\r\n    gulp.watch('test/list.json', function () {\r\n        sm.SBer_summary('./test/list.json', false, 'sm.txt'); // The contens of sm.txt is same as SUMMARY.md\r\n    });\r\n});\r\n\r\n// ---------- v1.4.2 -------------------\r\n// maybe, need a JSON file is bad idea. we need easier method.\r\nsm.SBer_summaryMDs(['-t','./**/*.md','!Docs/**/*.md','!README.md']);\r\n\r\n// '-t' means indent, If you don't want it to be indented. just like this:\r\nsm.SBer_summaryMDs(['./**/*.md','!Docs/**/*.md','!README.md']);\r\n\r\n// maybe you need gulp task.\r\ngulp.task('summary',()=>{\r\n    sm.SBer_summaryMDs(['-t','./**/*.md','!Docs/**/*.md','!README.md']);\r\n    console.log('Task: summary done');\r\n});\r\n\r\n// The files '_summary.md' and '.li.json' wuld be created after you run the task.\r\n```\r\n----\r\n\r\n## API\r\n\r\n### 1. SBer_summary() :*Generates a file similar to `SUMMARY.md`*.\r\n\r\n`SBer_summary( jsonFileName, isIndent, outFileName )`\r\n\r\n* `jsonFileName`：type: *string OR Array*——The path of the JSON file.It is better to be created by the plugin: [gulp-filelist](https://www.npmjs.com/package/gulp-filelist). Or like this: \r\n\r\n    ```js\r\n    SBer_summary([\"a.md\",\"b/a.md\"],true,\"mySummary.md\")\r\n\r\n    // Note: Wildcard paths are not supported and must be a specific array of markdown file paths.\r\n    ```\r\n\r\n    JSON格式的列表文件路径 *example*：`allMDlist.json`:（NOTE: 注意保留完整路径，以便读取。）\r\n    \r\n    ```JSON\r\n    [\r\n    \"./a/a.md\",\r\n    \"./b/b.md\"\r\n    ]\r\n    ```\r\n\r\n* `isIndent`: type: *Boolean* ——Indent? If `true` will be indented.Must `true` or `false`.\r\n\r\n * `outFileName`: type: *string*—— example: \"a.md\",Any you wanted if you sure it can be read.\r\n\r\nExample:\r\n ```js\r\n const sm = require('summarybuilder');\r\n\r\n const mdFiles = [\r\n     'a.md',\r\n     'b.md',\r\n     'test/x/y/z.md'\r\n ]\r\n\r\nsm.SBer_summary(mdFiles,true,'_summary.md');\r\n\r\n// or like this\r\n\r\nsm.SBer_summary(['a.md','b.md','test/x/y/z.md'],true,'_sm.md');\r\n ```\r\n\r\n----\r\n\r\n### 2. SBer_createMD(): *Create a corresponding markdown file*。\r\n\r\n`SBer_createMD( summaryFilePath )`，Create a corresponding markdown file based on a list similar to SUMMARY.md.\r\n\r\n* `summaryFilePath`:type: *string*——The path to the file with the same format as *SUMMARY.md* (of course, you can also use the path to SUMMARY.md directly).\r\n\r\n* `arguments[1]`: type: *string*——Add content other than the title, which can be the body part of Markdown (* The first `#` tag already exists. If not, it is better not to repeat the *).\r\n\r\n    xxx.md\r\n    ```Markdown\r\n    * [TEST](./a/TA)\r\n    ```\r\n    xx.js:\r\n    \r\n    ```js\r\n    // just title.\r\n\r\n    SBer_createMD('./SUMMARY.md');\r\n\r\n    // Add some content.\r\n\r\n    SBer_createMD('./SUMMARY.md','This is a test content!');\r\n\r\n    ```\r\n    result ( *If no error :<* )：\r\n\r\n    ```Markdown\r\n    # TEST\r\n\r\n    This is a test content!\r\n    ```\r\n----\r\n\r\n### 3. SBer_summaryMDs(array)\r\n\r\nNote: Ensure that the given value does not trigger the \"Missing positive glob\" and you need to make sure that there are files that can be matched into the pipe() stream. Otherwise, it will report an error and exit the process.\r\n\r\nexample：\r\n```js\r\n//...\r\nSBer_summaryMDs(['-t','./**/*.md','!Docs/**/*.md','!README.md']);\r\n\r\n// '-t' means indent, If you don't want it to be indented. just like this:\r\n\r\nSBer_summaryMDs(['./**/*.md','!Docs/**/*.md','!README.md']);\r\n\r\n// You can use it like this:\r\nSBer_summaryMDs(['-t']);\r\n\r\n\r\n\r\n// But like this will report error:\r\nSBer_summaryMDs(['!README.md']);\r\n// or \r\nSBer_summaryMDs(['-t','!README.md']);\r\n\r\n// Them will report an error both,because gulp.src(['!README.md']) can't get any thing from stream.\r\n```\r\n\r\nThe difference between `SBer_summaryMDs(array)` and `SBer_summary( jsonFileName, isIndent, outFileName )`:\r\n\r\n* SBer_summaryMDs(array) supports wildcard paths,But SBer_summary() does not support.\r\n* SBer_summaryMDs(array) : You can avoid the trouble of using `gulp-filelist` to generate JSON files.\r\n\r\n## Donate to author\r\n\r\n![Donate to author](/static/zs.jpg)\r\nQR code for WeChat\r\n\r\n## Licence\r\n\r\n[MIT](./LICENSE)",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/YYago/summarybuilder.git"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "version": "1.4.6"
}
